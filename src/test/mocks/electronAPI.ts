import { vi } from 'vitest';

export function createMockElectronAPI() {
  return {
    platform: 'darwin',
    getAppWindows: vi.fn().mockResolvedValue([]),
    activateWindow: vi.fn().mockResolvedValue(true),
    openNewTerminal: vi.fn().mockResolvedValue({ success: true }),
    openNewFinder: vi.fn().mockResolvedValue({ success: true }),
    openNewGenericWindow: vi.fn().mockResolvedValue({ success: true }),
    closeWindow: vi.fn().mockResolvedValue({ success: true }),
    exportLog: vi.fn().mockResolvedValue(true),
    selectFolder: vi.fn().mockResolvedValue(null),
    selectFile: vi.fn().mockResolvedValue(null),
    insertToDailyNote: vi.fn().mockResolvedValue(true),
    listDailyNotes: vi.fn().mockResolvedValue({ success: true, notes: [] }),
    insertToNote: vi.fn().mockResolvedValue({ success: true }),
    saveBackup: vi.fn().mockResolvedValue({ success: true }),
    loadBackup: vi.fn().mockResolvedValue({ success: true, data: null }),
    exportBackup: vi.fn().mockResolvedValue({ success: true }),
    importBackup: vi.fn().mockResolvedValue({ success: true, data: null }),
    getBackupPath: vi.fn().mockResolvedValue('/mock/backup/path'),
    getDisplays: vi.fn().mockResolvedValue([]),
    arrangeTerminalGrid: vi.fn().mockResolvedValue({ success: true, arranged: 0 }),
    arrangeFinderGrid: vi.fn().mockResolvedValue({ success: true, arranged: 0 }),
    arrangeGenericGrid: vi.fn().mockResolvedValue({ success: true, arranged: 0 }),
    scanInstalledApps: vi.fn().mockResolvedValue([]),
    getAppIcon: vi.fn().mockResolvedValue(''),
    plugins: {
      list: vi.fn().mockResolvedValue({ success: true, data: [] }),
      install: vi.fn().mockResolvedValue({ success: true }),
      enable: vi.fn().mockResolvedValue({ success: true }),
      disable: vi.fn().mockResolvedValue({ success: true }),
      uninstall: vi.fn().mockResolvedValue({ success: true }),
      getSettings: vi.fn().mockResolvedValue({ success: true, data: {} }),
      saveSettings: vi.fn().mockResolvedValue({ success: true }),
      getGridLayouts: vi.fn().mockResolvedValue({ success: true, data: [] }),
      getExportFormats: vi.fn().mockResolvedValue({ success: true, data: [] }),
      executeExportFormat: vi.fn().mockResolvedValue({ success: true }),
      getCardActions: vi.fn().mockResolvedValue([]),
      executeCardAction: vi.fn().mockResolvedValue({ success: true }),
      checkUpdate: vi.fn().mockResolvedValue({ hasUpdate: false }),
      update: vi.fn().mockResolvedValue({ success: true }),
    },
    update: {
      check: vi.fn().mockResolvedValue({ success: true, available: false }),
      download: vi.fn().mockResolvedValue({ success: true }),
      install: vi.fn().mockResolvedValue({ success: true }),
      cleanup: vi.fn().mockResolvedValue({ success: true, deleted: 0 }),
      restart: vi.fn().mockResolvedValue(undefined),
      onProgress: vi.fn().mockReturnValue(() => {}),
    },
  };
}
