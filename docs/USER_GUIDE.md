# AtelierX ユーザーガイド

> **バージョン**: v1.9.9+
> **対応OS**: macOS / Windows / Linux

---

## AtelierX とは

Terminal・Finder・ブラウザなどのウィンドウを **カンバンボード** で管理するデスクトップアプリです。
タスクカードにウィンドウを紐づけて、ドラッグ&ドロップで作業を整理できます。

---

## 1. ボード基本操作

### タブ切り替え

画面上部のタブで管理対象アプリを切り替えます。

| タブ | 説明 |
|------|------|
| **Terminal** | ターミナルウィンドウの管理（デフォルト） |
| **Finder** | Finder ウィンドウの管理 |
| **Web** | ブラウザウィンドウの管理（Chrome, Safari, Firefox, Vivaldi, Arc, Edge, Brave） |
| **カスタム** | インストール済みアプリから追加可能 |
| **Ideas** | アイデア・バックログ管理 |

タブの追加・削除は **＋** ボタンから行えます。

### カラム操作

デフォルトでは **未着手**・**実行中**・**完了** の3カラムがあります。

- **カラム追加**: 右端の「＋」ボタン
- **カラム編集**: カラムヘッダーをクリック（名前・色を変更可能）
- **カラム並び替え**: ヘッダーをドラッグ&ドロップ
- **カラム非表示/表示**: カラムヘッダーの右クリック → 非表示。ナビバーから再表示可能
- **カラム削除**: カラム編集から削除（中のカードは残ります）

### カード操作

| 操作 | 方法 |
|------|------|
| **カード作成** | カラム下部の「＋」ボタン |
| **カード編集** | カードをクリック（設定により「ウィンドウに移動」も選択可） |
| **カード移動** | カードをドラッグして別カラムにドロップ |
| **カード複製** | 右クリック → 「複製」 |
| **カード削除** | 右クリック → 「削除」 or 編集モーダルから削除 |
| **カードアーカイブ** | 右クリック → 「アーカイブ」 |
| **アイデアに送る** | 右クリック → 「アイデアに送る」 |

### 元に戻す（Undo）

`Cmd+Z`（macOS）/ `Ctrl+Z`（Windows/Linux）で直前の操作を取り消せます（最大30回）。

---

## 2. ウィンドウ管理

### ウィンドウのリンク

カードに実際のウィンドウを紐づけることで、カードクリックでそのウィンドウに即座にジャンプできます。

- **自動検出**: 新しいウィンドウが開かれると画面上部に通知バナーが表示されます。「追加」をクリックするとカードが自動作成されます
- **手動リンク**: カード作成時にウィンドウを選択
- **複数ウィンドウ**: 1つのカードに Terminal + Finder + Browser など複数ウィンドウを紐づけ可能

### ウィンドウ操作

| 操作 | 説明 |
|------|------|
| **ジャンプ** | カードをクリック → リンクされたウィンドウが前面に表示 |
| **新規ウィンドウ作成** | カード編集 → 「新規ターミナル」「新規Finder」ボタン |
| **ウィンドウ閉じる** | カード編集 → ウィンドウの「×」ボタン |
| **リンク解除** | カード編集 → ウィンドウの「リンク解除」ボタン |
| **壊れたリンク修復** | ウィンドウが閉じられるとリンクが壊れて表示される → クリックで再リンクモーダルが開く |

### アクティベーション・アニメーション

ウィンドウにジャンプする際のアニメーションを設定から選択できます。

| アニメーション | 動作 |
|-------------|------|
| **Pop** | バウンスエフェクト（デフォルト） |
| **Minimize** | Dockへのジニーエフェクト（macOSのみ） |
| **Dock** | 下からスライド |

### ウィンドウ履歴

過去にリンクされていたウィンドウの履歴が保持されます。壊れたリンクを修復する際、履歴から選択して再リンクできます。

---

## 3. Grid 配置

複数のウィンドウを画面上にきれいに並べる機能です。

### 基本Grid配置

`Cmd+G`（macOS）/ `Ctrl+G`（Windows/Linux）で Grid 配置モーダルを開きます。

- **自動計算**: ウィンドウ数に応じて最適な行列数を自動計算
- **カスタム指定**: 行数・列数・パディングを手動設定
- **ディスプレイ選択**: マルチモニター環境でどのディスプレイに配置するか選択
- **カラムフィルター**: 特定カラムのウィンドウだけを対象にすることも可能

### マルチアプリGrid配置

異なるアプリを1つのGridに混在配置する機能です。

- **セル割り当て**: Grid のセルごとに異なるアプリ（Terminal, Finder, ブラウザ等）を指定
- **配置モード**:
  - **one-per-cell**: セルごとに1ウィンドウ
  - **fill**: セル領域内にサブGridで複数ウィンドウを配置
- **お気に入り保存**: よく使うレイアウトを保存して再利用

---

## 4. カードの詳細機能

### ステータスマーカー

カードにはステータスマーカーを設定できます。

| マーカー | アイコン | 意味 |
|---------|--------|------|
| (空) | — | 未完了 |
| `x` | ✓ | 完了 |
| `/` | ◐ | 進行中 |
| `d` | ◉ | 作業中 |
| `>` | → | 先送り |
| `-` | — | キャンセル |
| `!` | ❗ | 重要 |
| `?` | ❓ | 質問 |
| `i` | 💡 | アイデア |

### サブタグ

カードにカテゴリタグを付けられます。複数選択可能。

**デフォルトサブタグ**:
- 研究（紫）、雑務（オレンジ）、その他（グレー）

**カスタマイズ**: 設定 → サブタグ管理 で:
- デフォルトサブタグの名前・色を変更
- デフォルトサブタグを非表示に
- 新しいカスタムサブタグを追加

### 優先順位

カードに優先度を設定できます。

**デフォルト**: 高（赤）/ 中（オレンジ）/ 低（青）

**カスタム優先順位**: 設定からオリジナルの優先度レベルを追加可能。色とラベルを自由に設定できます。

### チェックリスト（タスク）

カードの説明欄にチェックボックス形式でサブタスクを記述できます。

```
[x] 完了したタスク
[ ] 未完了のタスク
[/] 進行中のタスク
[!] 重要なタスク
```

36種類のマーカーが使えます。右クリックでマーカーを変更可能。

---

## 5. タイマー機能

チェックリストの個別タスクに対して時間計測ができます。

### 基本操作

1. チェックリストのタスク横にある **▶** ボタンでタイマー開始
2. タスク開始と同時にステータスが「進行中」に自動変更
3. **⏸** で一時停止、**⏹** で終了
4. 終了時に `⏱ YYYY-MM-DD HH:MM-HH:MM (所要時間)` が自動記録

### パルスアニメーション

タイマーが動作中のカードはカラム色で **パルス点滅** し、どのタスクが進行中か視覚的にわかります。

---

## 6. ターミナル背景色（macOS限定）

Terminal.app のウィンドウ背景色を変更できます。

### カラーメニュー

ナビバーの **🎨** アイコンからカラーメニューを開きます。

| 操作 | 説明 |
|------|------|
| **カラム色** | カラムのテーマカラーをターミナル背景に適用 |
| **優先順位色** | カードの優先度に応じた色を適用 |
| **プリセット** | 6種の名前付きテーマ（Ocean, Forest, Sunset, Berry, Slate, Rose） |
| **グラデーション** | 各ウィンドウに異なる色相を自動配分 |
| **カスタムカラー** | カラーピッカーで自由に選択 |
| **リセット** | デフォルト色（黒背景・白テキスト）に戻す |

### カード単位の色設定

カード編集モーダルからも個別にターミナル背景色を変更できます。

### ガラス効果（beta）

ターミナルウィンドウを半透明にする機能です。詳細は **[ガラス効果ユーザーガイド](GLASS_EFFECT_USER_GUIDE.md)** を参照してください。

---

## 7. アイデア・バックログ

「Ideas」タブでアイデアやバックログを管理できます。

### アイデアの操作

| 操作 | 説明 |
|------|------|
| **アイデア追加** | 「＋」ボタンからタイトル・説明・カテゴリを入力 |
| **カテゴリ** | 機能追加（緑）/ 改善（青）/ バグ修正（赤）/ その他（グレー）+ カスタム |
| **ボードに復元** | アイデアをカードに変換して Terminal/Finder ボードに追加 |
| **カード → アイデア** | カードの右クリック → 「アイデアに送る」でバックログに移動 |

---

## 8. アーカイブ

完了したカードをアーカイブに保管できます。

### 操作

- **アーカイブ**: カード右クリック → 「アーカイブ」
- **閲覧**: ボード下部の「アーカイブ」セクションを展開
- **検索**: タイトル・説明・コメントでテキスト検索
- **フィルター**: サブタグで絞り込み
- **復元**: アーカイブからボードの「完了」カラムに戻す
- **完全削除**: アーカイブから永久に削除

アーカイブは **年 → サブタグ** の2階層でグループ表示されます。
カードをクリックすると詳細（作業時間合計、作成日、完了日、アーカイブ日）を確認できます。

---

## 9. エクスポート

ボードデータやアクティビティログを外部に出力できます。

### 出力形式

| 形式 | 説明 |
|------|------|
| **Markdown** | リッチフォーマットのマークダウンファイル |
| **JSON** | 構造化データ |
| **Plain Text** | シンプルなテキスト |
| **プラグイン形式** | プラグインで追加された形式 |

### Obsidian 連携

Obsidian のデイリーノートに直接挿入できます。

1. 設定 → Obsidian で Vault パスとデイリーノートパスを設定
2. エクスポート → 「Obsidian」を選択
3. ノート選択モーダルで挿入先を選択
4. 設定した挿入マーカー（デフォルト: `## AtelierX`）の下に追記

---

## 10. バックアップ・復元

### 自動バックアップ

60秒ごとに自動保存されます。アプリ再起動時にデータが空の場合、最新のバックアップから復元を提案します。

### 手動バックアップ

設定 → バックアップ セクションから:

| 操作 | 説明 |
|------|------|
| **エクスポート（全体）** | ボード + ログ + 設定を JSON ファイルに保存 |
| **インポート（全体）** | JSON ファイルから全データを復元 |
| **設定プリセット エクスポート** | 設定のみを共有可能な形式で出力（個人パス除外） |
| **設定プリセット インポート** | 設定のみを読み込み（Obsidianパスは保持） |
| **カードバックアップ エクスポート** | カードとログのみを出力 |
| **カードバックアップ インポート** | カードとログのみを読み込み |

---

## 11. プラグインシステム

GitHub からプラグインをインストールして機能を拡張できます。

### インストール

設定 → プラグイン → 「インストール」に `owner/repo` 形式で入力。

### プラグインタイプ

| タイプ | 説明 |
|--------|------|
| **grid-layout** | カスタムGrid配置プリセットを追加 |
| **export** | カスタムエクスポート形式を追加 |
| **integration** | 外部サービス連携 |
| **theme** | テーマカスタマイズ |
| **utility** | ユーティリティ機能 |

### カードアクション

プラグインがカードにボタンを追加できます。

| 位置 | 説明 |
|------|------|
| **task** | チェックリスト内のタスク横 |
| **card-header** | カードヘッダー |
| **card-footer** | カードフッター |

---

## 12. 設定

`Cmd+,`（macOS）/ `Ctrl+,`（Windows/Linux）で設定モーダルを開きます。

### 基本設定

| 項目 | 説明 |
|------|------|
| **テーマ** | ダーク / ライト |
| **カードクリック動作** | 「編集モーダルを開く」or「ウィンドウにジャンプ」 |
| **アクティベーションアニメーション** | Pop / Minimize / Dock |
| **ウィンドウ閉じる確認** | ON/OFF |

### サブセクション

- **アプリタブ管理**: インストール済みアプリからタブを追加・削除
- **サブタグ管理**: カスタムサブタグの作成・編集・削除、デフォルトの上書き
- **Obsidian 連携**: Vault パス、デイリーノートパス、挿入マーカーの設定
- **バックアップ**: 手動バックアップ・復元
- **プラグイン**: プラグインのインストール・有効/無効・設定
- **バージョン情報**: 現在のバージョンとアップデートチェック

---

## 13. アップデート

新しいバージョンが利用可能になると画面上部にバナーが表示されます。

1. 「アップデートを確認」をクリック
2. ダウンロード → インストール → 再起動
3. 設定 → バージョン情報 からも手動チェック可能

---

## 14. キーボードショートカット

| ショートカット | 動作 |
|-------------|------|
| `Cmd/Ctrl + ,` | 設定を開く |
| `Cmd/Ctrl + G` | Grid配置モーダルを開く |
| `Cmd/Ctrl + Z` | 元に戻す |
| `Esc` | モーダルを閉じる |
| `Enter` | 編集モーダルで保存 |
| `Tab` / `Shift+Tab` | 説明欄のインデント / アウトデント |

---

## 15. プラットフォーム別の注意事項

### macOS

- Terminal背景色・ガラス効果は **macOS限定** の機能です
- Grid配置には **アクセシビリティ権限** が必要です（システム設定 → プライバシーとセキュリティ → アクセシビリティ）
- DMGをダウンロードして `/Applications` にドラッグしてインストール

### Windows

- Terminal色設定は非対応（UIも非表示）
- NSIS インストーラー (.exe) を実行してインストール
- Grid配置は PowerShell 経由で動作

### Linux

- ウィンドウ管理には `wmctrl` と `xdotool` が必要:
  ```bash
  sudo apt install wmctrl xdotool
  ```
- X11 / XWayland で動作（ネイティブ Wayland は未対応）
- AppImage または .deb パッケージでインストール

---

## トラブルシューティング

### ウィンドウが検出されない

- アプリが起動しているか確認
- macOS: アクセシビリティ権限が許可されているか確認
- Linux: `wmctrl` と `xdotool` がインストールされているか確認

### カードのウィンドウリンクが壊れた

- ウィンドウが閉じられた場合に発生します
- カードをクリック → 再リンクモーダルで新しいウィンドウを選択
- ウィンドウ履歴から以前のウィンドウを選択することも可能

### データが消えた

- アプリ再起動時に自動バックアップからの復元を提案します
- 設定 → バックアップ → インポートから手動復元も可能

### Grid 配置が動かない（macOS）

- システム設定 → プライバシーとセキュリティ → アクセシビリティで AtelierX を許可

---

*最終更新: 2026-02-15 / v1.9.9*
